[インデックス](../README.md) > `出力結果について`

# マッチングレベル

ジオコーディング結果の精度を表します。(TODO: あとでたぶん変更する)

| level               | description                               |
|---------------------|-------------------------------------------|
| unknown             | 全く判定できなかった                          |
| prefecture          | 都道府県まで判別できた                        |
| city                | 市区町村まで判別できた                        |
| machiaza            | 大字・町名まで判別できた                      |
| machiaza_detail     | 丁目・小字まで判別できた                      |
| residential_block   | 住居表示の街区までの判別ができた                |
| residential_detail  | 住居表示の街区符号・住居番号までの判別ができた    |
| parcel              | 地番まで判別ができた                          |


# スコア

入力された文字列と、正規化された文字列の類似度を示しています。
文字列の類似度を計算する[レーベンシュタイン距離](https://ja.wikipedia.org/wiki/%E3%83%AC%E3%83%BC%E3%83%99%E3%83%B3%E3%82%B7%E3%83%A5%E3%82%BF%E3%82%A4%E3%83%B3%E8%B7%9D%E9%9B%A2)を用いています。`0.0〜1.0`の範囲で表され、`1.0`が入力された住所と出力結果が同じ場合です。

スコアが低ければ信用度が低い、と概ね認識することは出来ます。
しかし、入力値が省略された表記の場合、出力結果のが長くなる場合には、スコアが低くなります。

  <details open>
    <summary>スコアの例</summary>

```json
[
  {
    "query": {
      "input": "東京都千代田区紀尾井町1-3"
    },
    "result": {
      "output": "東京都千代田区紀尾井町1-3",
      "score": 1, // "input" と "output" が完全一致
      ...
    }
  },
  {
    "query": {
      "input": "東京都千代田区紀尾井町1丁目3番地" // 紀尾井町には「丁目」がないので「1丁目」は正しくない
    },
    "result": {
      "output": "東京都千代田区紀尾井町1-3",  // 正規化された結果
      "score": 0.77, // "input" と "output" が概ね似ている
      ...
    }
  },
  {
    "query": {
      "input": "東京都千代田区紀尾井町1番地3号"  // 正しい住所表記
    },
    "result": {
      "output": "東京都千代田区紀尾井町1-3",
      "score": 0.82,  // "input" と "output" が高い割合で似ている
      ...
    }
  },
  {
    "query": {
      "input": "紀尾井町1-3"  // 省略された住所表記
    },
    "result": {
      "output": "東京都千代田区紀尾井町1-3",
      "score": 0.5,  // "input" と "output" が一部一致している。
      ...
    }
  }
]

```

  </details>


# 住所の正規化について

このジオコーダーは、デジタル庁が公開する[アドレス・ベース・レジストリ](https://www.digital.go.jp/policies/base_registry_address) で[公開しているデータセット](https://catalog.registries.digital.go.jp/rc/dataset/)に基づいて、住所の正規化を行います。

元にしているデータの精度等により、他サービスのジオコーディング結果と異なる結果の場合があります。

また2024年6月時点では、京都の通り名には未対応です。

# 緯度経度について

このジオコーダーは、元にしている複数のデータの事情により、全てのジオコーディング結果に緯度経度が含まれるわけではありません。
